---
layout: post
status: publish
published: true
title: GitLab 7.2 - feature, feature e ancora feature
author:
  display_name: Bl@ster
  login: Blaster
  email: dottorblaster@gmail.com
  url: http://www.dottorblaster.it
author_login: Blaster
author_email: dottorblaster@gmail.com
author_url: http://www.dottorblaster.it
wordpress_id: 2498
wordpress_url: http://dottorblaster.it/?p=2498
date: '2014-08-24 11:14:21 +0200'
date_gmt: '2014-08-24 10:14:21 +0200'
categories:
- Open Source
tags:
- GIT
- opensource
- gitlab
- vcs
comments:
- id: 18819
  author: GianArb
  author_email: gianarb92@gmail.com
  author_url: http://www.gianarb.it/
  date: '2014-08-24 13:22:00 +0200'
  date_gmt: '2014-08-24 12:22:00 +0200'
  content: Mi hai messo parecchia curiosità.. Internamente usato GitLab perchè il
    princing di Github è troppo elevato? Scusa se faccio domande più di usabilità
    che tecnice.. Ma come hai scritto tu per le label colorate, non esiste solo il
    valore tecnico :P
- id: 18820
  author: Bl@ster
  author_email: dottorblaster@gmail.com
  author_url: http://dottorblaster.it/
  date: '2014-08-24 13:42:00 +0200'
  date_gmt: '2014-08-24 12:42:00 +0200'
  content: |-
    Beh per i repository privati c'è già bitbucket di Atlassian... :D Più che altro a me piace molto gestire da me le mie cose, e avere il *mio* server con il *mio* codice gestito da me sicuramente mi da un grado di sicurezza superiore a quello di GitHub (imho), che per quanto possa essere open usa una piattaforma proprietaria di cui quindi, banalmente, non sai cosa c'è dietro. Poi se uno preferisce pagare, perché no. È diventato anche un eccellente strumento di social networking per sviluppatori e community nerd-oriented, ma per lavorare la questione esula totalmente da tutto questo.

    E poi si :) un amico mi ha chiesto una piccola consulenza perché in questo modo poteva installarsi tutto in locale e dire addio a GitHub che per una grande società magari non è una spesa ingente, ma per una piccola impresa (magari in startup) è comunque una voce di bilancio se vogliamo, quindi gli si sono abbassate le spese e usa codice "trasparente".
- id: 18821
  author: GianArb
  author_email: gianarb92@gmail.com
  author_url: http://www.gianarb.it/
  date: '2014-08-24 18:29:00 +0200'
  date_gmt: '2014-08-24 17:29:00 +0200'
  content: "Immaginavo che fosse una questione di \"risparmio\", esiste bitbucket
    ma in quanto ad usabilità preferisco il terminale ahah xD molto più graficamente
    gradevole.. Battute a parte mi son concesso un \"risparmio\" virgolettato perchè
    con l'as a service di github hai sicuramente un prezzo da pagare, ma delle probabili
    rogne o spese in meno, vedi il server e \"una piccola consulenza\" oppure il server
    che crolla e tu rimani senza gitlab.. :) Discorso trito e ritrito della serie
    \"as a service vs cose fatte in casa\" discorso fatte per parlare nulla di più..
    Tra l'altro finchè la mentalità è non do il mio codice a github perchè è mio e
    non do il mio db ad amazon perchè è mio cose se tutti lo volessero non andiamo
    troppo avanti :D .. Comunque ripeto non ho un idea a riguardo, ovviamente saper
    fare consulenze da github, a gitlab è un bagaglio di conoscenze importante.. :)
    Volevo solo condividere un ragionamento\n\nPer la startup 5$ mese sono una voce
    di bilancio, come un server con gitlab e la tua consulenza.. :P "
- id: 18822
  author: Sytse Sijbrandij
  author_email: web2008@sytse.com
  author_url: ''
  date: '2014-08-25 15:33:00 +0200'
  date_gmt: '2014-08-25 14:33:00 +0200'
  content: GitLab B.V. CEO here. Thanks for your very kind article!
- id: 18823
  author: Bl@ster
  author_email: dottorblaster@gmail.com
  author_url: http://dottorblaster.it/
  date: '2014-08-25 15:33:00 +0200'
  date_gmt: '2014-08-25 14:33:00 +0200'
  content: Yo! Lookin' forward to buy the t-shirt as soon as it gets 50 requests :D
- id: 18824
  author: Sytse Sijbrandij
  author_email: web2008@sytse.com
  author_url: ''
  date: '2014-08-25 15:34:00 +0200'
  date_gmt: '2014-08-25 14:34:00 +0200'
  content: Cool! I've asked if they can open it up sooner and they will look into
    it in a couple of days :-)
- id: 18825
  author: Bl@ster
  author_email: dottorblaster@gmail.com
  author_url: http://dottorblaster.it/
  date: '2014-08-25 16:16:00 +0200'
  date_gmt: '2014-08-25 15:16:00 +0200'
  content: |-
    Si ma la mia consulenza la paghi una volta e sinceramente costa pure abbastanza poco :-D
    Del server invece paghi la corrente, e corrente per corrente se hai già qualcosa in-house in quel costo affoghi pure il costo di gitlab... quindi è gratis, al netto del mantenimento sistemistico :-D (che adesso è veramente veramente facile)
- id: 18826
  author: GianArb
  author_email: gianarb92@gmail.com
  author_url: http://www.gianarb.it/
  date: '2014-08-25 16:21:00 +0200'
  date_gmt: '2014-08-25 15:21:00 +0200'
  content: Si diciamo che storco il naso all'idea di avere tutto sullo stesso server
    ma per il resto il discorso puo' anche aver senso.. Non lo so, mi sembra di dover
    gestie un qualcosa in più che potrei far gestire a github o bitbucket :P è un
    risparmio finchè per qualche assurdo motivo non crolla qualcosa :D Ma è cosi'
    per tutto :)
- id: 18827
  author: Bl@ster
  author_email: dottorblaster@gmail.com
  author_url: http://dottorblaster.it/
  date: '2014-08-25 16:24:00 +0200'
  date_gmt: '2014-08-25 15:24:00 +0200'
  content: |-
    Seh, magara. Bitbucket fino a 3 persone per repo è gratis, dopodiché hai da sgancià, e a quel punto o ti paghi la licenza di Stash, oppure... io mi sono levato il dente con GitLab, obiettivamente anche l'amico a cui l'ho evangelizzato per così dire sta andando a discreto risparmio.

    In ufficio usiamo Stash perché siamo partner Atlassian, invece :-)
- id: 18828
  author: Visto nel Web &#8211; 146 | Ok, panico
  author_email: ''
  author_url: http://okpanico.wordpress.com/2014/08/31/visto-nel-web-146/
  date: '2014-08-31 08:29:05 +0200'
  date_gmt: '2014-08-31 07:29:05 +0200'
  content: "[&#8230;] GitLab 7.2 – feature, feature e ancora feature ::: Bl@ster&#8217;s
    [&#8230;]"
---
<p><img src="https://about.gitlab.com/images/7_2/explore1.png" alt="GitLab Explore page" /></p>
<p><strong>GitLab</strong> sembra aver messo il turbo. Di rientro dalle ferie infatti, aprendo il feed reader che ormai gridava vendetta per la quantità di elementi non letti che avevo, ho visto che proprio ieri è stata rilasciata la <strong>versione 7.2</strong> di questo software <strong>open source</strong> che ho iniziato a usare ormai in ambito di produzione, e che sinceramente trovo di una bellezza (si può dire di un programma che è bello?) disarmante. Ci sono un bel po&#8217; di novità in <strong>GitLab 7.2</strong>, e arrivano tutte a stretto giro rispetto al mio post dell&#8217;altra volta, il che mi ha sorpreso notevolmente. Il <a href="https://gitlab.com/gitlab-org/gitlab-ce/blob/7-2-stable/CHANGELOG">changelog</a> è fitto di migliorie per così dire estetiche, ma bando alle ciance, andiamo a vedere cosa ci aspetta con questo aggiornamento:</p>
<ul>
<li><strong>Le etichette</strong>: adesso le etichette possono essere colorate :-) Se ne facciamo largo uso, sicuramente ci perderemo in mezzo a un bazilione di label diverse assegnate alle nostre issue di progetto. Finalmente è possibile colorare queste etichette, e colorarle non solo di una palette predefinita ma anche di colori personalizzati. Dato che mi sta molto a cuore l&#8217;issue management, considero cambiamenti come questo irrisori dal punto di vista teorico, ma ingenti dal punto di vista pratico visto che permettono un colpo d&#8217;occhio decisamente più efficace sullo stato di avanzamento dei lavori.</li>
<li><strong>Le Star</strong>: In azienda si usano diversi strumenti per il networking tra dipendenti. Di fatto, col tempo, la Star di GitHub è diventato oltre che un&#8217;aggiunta al proprio elenco di bookmark, anche un importante elemento di social networking dato che ha emulato il Like di Facebook. Circa. GitHub se n&#8217;è accorto, e per stilare GitHub Explore (ovvero l&#8217;interessantissima newsletter che mandano ogni settimana agli iscritti - e voi dovreste iscrivervi, che domande) usa proprio delle metriche parametrizzate sul numero di star che un progetto riceve - oltre che i fork e tante altre cose. GitLab 7.2 può fare la stessa cosa, finalmente, quindi per gli utenti è possibile &#8220;starrare&#8221; i repository di altre persone oltre che forkarli. Hell yeah!</li>
<li><strong>Diff unfolding</strong>: Questa è una novità molto interessante. Di solito nel diff che ci mostra GitLab le parti nascoste non possono essere visualizzate. Vediamo quindi solo ciò che è inerente il contesto delle rimozioni e delle aggiunte ad ogni file. GitLab 7.2 introduce invece la possibilità di clickare sui puntini di sospensione visualizzati sull&#8217;interfaccia web del tra i commit, permettendoci di visualizzare ulteriori parti non cambiate del file, fino ad arrivare a visualizzare tutto, senza esclusioni di sorta. Molto, molto bene - ed è, credo, anche la feature tecnicamente più rilevante di questa versione.</li>
<li><strong>Pagina Explore rivista</strong>: La pagina Explore, che sarebbe quella pagina web dove vengono visualizzati tutti i progetti pubblici della vostra installazione di GitLab, è stata completamente rivisitata in favore di un design più moderno, pulito e meno &#8220;brandizzato&#8221;, se vogliamo. Sono molto soddisfatto di questa pagina personalmente; mi auguro che anche altre parti dell&#8217;interfaccia vengano riviste (magari non quelle relative alla dashboard) per rispecchiare questo design.</li>
</ul>
<h3>Aggiornamento</h3>
<p>Beh, abbiamo spolpato abbastanza il changelog - il resto sono caratteristiche della versione Enterprise, o che non mi interessano (:-D). Quello che invece rimane è l&#8217;<strong>aggiornamento</strong>: siccome è il mio primo <strong>aggiornamento di GitLab</strong>, &#8220;recensisco&#8221; (e vi mostro in breve) la procedura adesso; pensavo a qualcosa di più complicato, invece per aggiornare la vostra installazione di GitLab 7.1 a GitLab 7.2 basta dare i semplici comandi di seguito.</p>
<p>Per prima cosa, creiamo un backup:</p>
<pre><code>$ sudo gitlab-rake gitlab:backup:create
</code></pre>
<p>Dopodiché, andiamo a interrompere le operazioni dei servizi che ci intralcerebbero, <strong>scarichiamo il pacchetto</strong>, e installiamo la nuova versione:</p>
<pre><code>$ sudo gitlab-ctl stop unicorn
$ sudo gitlab-ctl stop sidekiq
$ wget https://downloads-packages.s3.amazonaws.com/debian-7.6/gitlab_7.2.0-omnibus-1_amd64.deb
$ sudo dpkg -i gitlab_7.2.0-omnibus-1_amd64.deb
$ sudo gitlab-ctl reconfigure
$ sudo gitlab-ctl restart
</code></pre>
<p>Gli ultimi due comandi lanceranno la riconfigurazione e la <strong>migrazione a GitLab 7.2</strong>.</p>
<h3>La parte divertente</h3>
<p>Già che ci siamo vi racconto anche un aneddoto interessante: <strong>non</strong> fate <em>gitlab-ctl stop</em>, per nessuna ragione al mondo, oppure arresterete anche Redis e PostgreSQL (o quello che usate come database) - che è quello che ho fatto io al posto di stoppare solo <strong>Unicorn</strong> e <strong>Sidekiq</strong>. Il risultato è stato che <em>gitlab-reconfigure</em> ha fallito la <strong>migrazione del database</strong>, e mi sono dovuto andare a cercare come lanciarla a mano (senza trovare nulla: quello che vedete sotto è un comando inventato sul momento che per puro caso era veramente quello. :-D</p>
<p>Per lanciare manualmente la migrazione del database della vostra installazione di <strong>GitLab</strong>, aprite una shell e date questo comando:</p>
<pre><code>$ sudo gitlab-rake db:migrate
</code></pre>
<p>Tutto andrà a posto, come nei finali delle migliori fiabe.</p>
<p>Buon lavoro a tutti :-)</p>
